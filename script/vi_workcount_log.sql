select `a`.`AppCode` AS `AppCode`,`a`.`OrderType` AS `OrderType`,`fn_GetOrderTypeByCode`(`a`.`OrderType`) AS `OrderTypeName`,`a`.`WorkStatus` AS `WorkStatus`,(case `f`.`TypeStatus` when 1 then concat(convert(`fn_GetServiceOrderStatus`(`a`.`WorkStatus`) using utf8mb4),'请求关闭(客户审核)') when 2 then concat(convert(`fn_GetServiceOrderStatus`(`a`.`WorkStatus`) using utf8mb4),'请求关闭') else convert(`fn_GetServiceOrderStatus`(`a`.`WorkStatus`) using utf8mb4) end) AS `WorkStatusName`,`a`.`ProName` AS `ProName`,`a`.`CityName` AS `CityName`,`a`.`AreaName` AS `AreaName`,`a`.`InstallAddress` AS `InstallAddress`,`a`.`CustSettleName` AS `CustSettleName`,`a`.`CustomerName` AS `CustomerName`,`a`.`CustStoreName` AS `CustStoreName`,NULL AS `ActualCustStoreName`,`b`.`GeneralGoodsNames` AS `GeneralGoodsNames`,`b`.`ArtificialServicePriceName` AS `ArtificialServicePriceName`,`b`.`ArtificialServicePrice` AS `ArtificialServicePrice`,`b`.`ServiceSubjectName` AS `ServiceSubjectName`,`b`.`SubjectClassCode` AS `SubjectClassCode`,`b`.`ServiceSubjectCode` AS `ServiceSubjectCode`,`b`.`ArtificialServicePriceAmount` AS `ArtificialServicePriceAmount`,`b`.`InternalPrice` AS `InternalPrice`,`b`.`DeviceAmount` AS `DeviceAmount`,(case `c`.`Privoder` when 0 then '中瑞' when 1 then '客户' end) AS `Privoder`,if((`c`.`ServiceType` = 6),'集中','非集中') AS `IsCentralize`,`d`.`VinNumber` AS `VinNumber`,`e`.`Value` AS `GuaVin`,`d`.`PlateNumber` AS `PlateNumber`,`g`.`CompleteTime` AS `CompleteTime`,`a`.`CreatePersonName` AS `CreatePersonName`,`b`.`ServiceCode` AS `ServiceCode`,`b`.`ServiceName` AS `ServiceName`,`b`.`ServiceAscription` AS `ServiceAscription`,`b`.`RecordCode` AS `RecordCode`,`b`.`RecordName` AS `RecordName`,`b`.`RecordAscription` AS `RecordAscription`,`a`.`Remark` AS `SendRemark`,`c`.`Remark` AS `ServiceRemark`,(case `b`.`TagSign` when 1 then '是' when 0 then '否' end) AS `TagSign`,json_unquote(json_extract(`bj`.`BussinessJson`,' $.ActualRecordPersonInfo.ActualRecordPersonCode')) AS `ActualRecordPersonCode`,json_unquote(json_extract(`bj`.`BussinessJson`,' $.ActualRecordPersonInfo.ActualRecordPersonName')) AS `ActualRecordPersonName`,convert(json_unquote(json_extract(`bj`.`BussinessJson`,'$.ActualRecordPersonInfo.ActualRecordPersonAscription')) using utf8) AS `ActualRecordPersonAscription`,`b`.`InsertTime` AS `InsertTime` from (((((((`tb_workorderinfo` `a` join `rp_workordercount` `b` on(((`b`.`WorkOrderId` = `a`.`Id`) and (`b`.`Deleted` = 0)))) join `tb_workserviceinfo` `c` on(((`c`.`WorkOrderId` = `a`.`Id`) and (`c`.`Deleted` = 0)))) join `tb_workcarinfo` `d` on(((`d`.`WorkOrderId` = `a`.`Id`) and (`d`.`Deleted` = 0)))) left join `tb_custcolumn` `e` on(((`e`.`WorkOrderId` = `a`.`Id`) and (`e`.`TypeCode` = 2) and (`e`.`Deleted` = 0)))) left join `tb_workorderstatus` `f` on(((`f`.`WorkOrderId` = `a`.`Id`) and (`f`.`Deleted` = 0)))) left join `tb_recordinfo` `g` on(((`a`.`Id` = `g`.`WorkOrderId`) and (`g`.`Deleted` = 0)))) left join `tb_workbussinessjsoninfo` `bj` on(((`a`.`Id` = `bj`.`WorkOrderId`) and (`bj`.`Deleted` = 0)))) where (`a`.`Deleted` = 0)